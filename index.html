<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luban Fragrance | The Essence of Elegance</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --bg-dark: #020a09;
            --bg-accent: #051614;
            --gold-primary: #d4af37;
            --gold-bright: #f4d03f;
            --gold-muted: rgba(212, 175, 55, 0.6);
            --text-white: #ffffff;
            --text-dim: rgba(255, 255, 255, 0.6);
            --border-gold: rgba(212, 175, 55, 0.15);
            --transition-smooth: all 0.7s cubic-bezier(0.19, 1, 0.22, 1);
            --card-gradient: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0) 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-white);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Custom Cursor */
        #custom-cursor {
            width: 20px;
            height: 20px;
            border: 1px solid var(--gold-primary);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s, background 0.3s;
            mix-blend-mode: difference;
        }

        /* Typography */
        h1, h2, h3, .playfair { font-family: 'Playfair Display', serif; font-weight: 400; }
        
        /* Scroll Progress */
        #scroll-progress {
            position: fixed;
            top: 0; left: 0;
            height: 2px;
            background: var(--gold-primary);
            z-index: 1001;
            width: 0%;
        }

        /* Navbar */
        nav {
            position: fixed;
            top: 0; width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2.5rem 8%;
            z-index: 1000;
            transition: var(--transition-smooth);
        }

        nav.scrolled {
            padding: 1.2rem 8%;
            background: rgba(2, 10, 9, 0.95);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border-gold);
        }

        .nav-logo-img { height: 45px; filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.2)); }
        
        .nav-links { display: flex; gap: 3rem; list-style: none; }
        .nav-links a {
            text-decoration: none;
            color: var(--text-dim);
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            transition: 0.3s;
        }
        .nav-links a:hover { color: var(--gold-primary); letter-spacing: 5px; }

        .social-icons-nav {
            display: flex;
            gap: 1.2rem;
            align-items: center;
            border-left: 1px solid var(--border-gold);
            padding-left: 1.5rem;
            margin-left: 0.5rem;
        }
        
        .social-link {
            color: var(--gold-primary);
            transition: var(--transition-smooth);
            opacity: 0.7;
        }
        .social-link:hover {
            opacity: 1;
            transform: translateY(-2px);
        }

        /* Hero Section */
        #hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        .hero-bg-text {
            position: absolute;
            font-size: 20vw;
            font-family: 'Playfair Display';
            color: rgba(212, 175, 55, 0.03);
            white-space: nowrap;
            pointer-events: none;
            z-index: 0;
            user-select: none;
        }

        .hero-content { position: relative; z-index: 1; }
        
        #hero h1 {
            font-size: clamp(4rem, 12vw, 8rem);
            letter-spacing: 0.3em;
            margin-bottom: 0.5rem;
            background: linear-gradient(to bottom, #fff 40%, var(--gold-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0;
            transform: translateY(30px);
            animation: revealUp 1.5s forwards 0.5s;
        }

        @keyframes revealUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Product Grid */
        #shop { padding: 160px 8%; background: var(--bg-accent); }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 40px;
        }

        .product-card {
            position: relative;
            padding: 20px;
            background: var(--card-gradient);
            border: 1px solid var(--border-gold);
            transition: var(--transition-smooth);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover { transform: translateY(-10px); border-color: var(--gold-primary); box-shadow: 0 20px 40px rgba(0,0,0,0.4); }

        .image-container {
            width: 100%;
            aspect-ratio: 1/1;
            overflow: hidden;
            margin-bottom: 20px;
            position: relative;
            background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, rgba(0,0,0,0.2) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }

        .image-container img {
            max-width: 90%; 
            max-height: 90%;
            width: auto;
            height: auto;
            object-fit: contain;
            transition: transform 1.5s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .product-card:hover .image-container img { transform: scale(1.05); }

        .price-tag {
            font-size: 1.1rem;
            color: var(--gold-primary);
            font-weight: 400;
        }

        /* Contact Section */
        #contact { padding: 120px 8%; background: var(--bg-dark); }
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: start;
        }
        .contact-item {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
            transition: var(--transition-smooth);
            text-decoration: none;
            color: inherit;
        }
        .contact-item:hover { transform: translateX(10px); }
        .contact-icon {
            width: 50px;
            height: 50px;
            border: 1px solid var(--border-gold);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gold-primary);
        }

        /* Floating Controls */
        #back-to-top, #whatsapp-float {
            position: fixed;
            right: 40px;
            width: 50px;
            height: 50px;
            border: 1px solid var(--gold-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gold-primary);
            cursor: pointer;
            z-index: 100;
            background: rgba(2, 10, 9, 0.8);
            backdrop-filter: blur(5px);
            transition: 0.5s;
        }
        #back-to-top { bottom: 40px; opacity: 0; }
        #back-to-top.visible { opacity: 1; }
        #whatsapp-float { bottom: 105px; border-color: #25D366; color: #25D366; text-decoration: none; }
        #whatsapp-float:hover { background: #25D366; color: #fff; transform: scale(1.1); }

        /* Detail View */
        #details-view { background: var(--bg-dark); }
        .details-container { opacity: 0; transform: scale(0.98); transition: 0.8s; }
        .details-container.visible { opacity: 1; transform: scale(1); }

        .detail-img-wrapper {
            width: 100%;
            aspect-ratio: 1/1;
            overflow: hidden;
            border: 1px solid var(--border-gold);
            background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, rgba(0,0,0,0.2) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .detail-img-wrapper img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }

        @media (max-width: 768px) {
            * { cursor: auto !important; }
            #custom-cursor { display: none; }
            .nav-links, .social-icons-nav { display: none; }
            .contact-grid { grid-template-columns: 1fr; }
            nav { padding: 1.5rem 5%; }
            #hero h1 { letter-spacing: 0.1em; }
            .product-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div id="custom-cursor"></div>
    <div id="scroll-progress"></div>
    
    <div id="back-to-top" onclick="window.scrollTo(0,0)"><i data-lucide="chevron-up"></i></div>
    <!-- Updated WhatsApp number and default message -->
    <a id="whatsapp-float" href="https://wa.me/8801935322213?text=Hello%2C%20I'm%20interested%20in%20Luban%20Fragrance!" target="_blank">
        <i data-lucide="phone"></i>
    </a>

    <nav id="navbar">
        <div onclick="showView('main')" class="nav-logo-container" style="cursor:pointer">
            <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" alt="Luban Logo" class="nav-logo-img">
        </div>
        <ul class="nav-links">
            <li><a href="#hero">The Scent</a></li>
            <li><a href="#shop">Collection</a></li>
            <li><a href="#about">Heritage</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        <div style="display: flex; align-items: center; gap: 1.2rem;">
            <div class="social-icons-nav">
                <a href="https://www.facebook.com/people/Luban-Fragrance/61586484638332/" target="_blank" class="social-link"><i data-lucide="facebook" size="18"></i></a>
                <a href="https://www.instagram.com/lubanfragrance" target="_blank" class="social-link"><i data-lucide="instagram" size="18"></i></a>
            </div>
            <div class="cart-trigger" onclick="toggleCart(true)" style="cursor:pointer; position:relative; margin-left: 10px;">
                <i data-lucide="shopping-cart" stroke="#d4af37" size="22"></i>
                <span id="cart-count" style="position:absolute; top:-8px; right:-10px; background:var(--gold-primary); color:#000; font-size:10px; padding:2px 6px; border-radius:10px; font-weight:800;">0</span>
            </div>
        </div>
    </nav>

    <div id="main-view">
        <section id="hero">
            <div class="hero-bg-text">LUBAN</div>
            <div class="hero-content">
                <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" alt="Luban" style="width: 120px; margin-bottom: 2rem; opacity: 0.8;">
                <h1>LUBAN</h1>
                <p style="letter-spacing: 10px; color: var(--gold-muted); text-transform: uppercase; font-size: 0.8rem; margin-bottom: 3rem;">Refined Quality In Every Drop</p>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button class="btn-minimal" onclick="document.getElementById('shop').scrollIntoView()" style="background:none; border: 1px solid var(--gold-primary); color: var(--gold-primary); padding: 15px 40px; text-transform: uppercase; letter-spacing: 3px; font-size: 0.7rem; cursor: pointer; transition: 0.3s;">Explore Now</button>
                </div>
            </div>
        </section>

        <section id="shop">
            <div style="text-align: center; margin-bottom: 80px;">
                <h2 style="font-size: 3rem; margin-bottom: 15px; letter-spacing: 5px;">The Library</h2>
                <div style="width: 40px; height: 1px; background: var(--gold-primary); margin: 0 auto;"></div>
            </div>
            <div class="product-grid" id="product-list"></div>
        </section>

        <section id="about" style="padding: 120px 8%; border-top: 1px solid var(--border-gold);">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center;">
                <div style="position: relative;">
                    <div style="border: 1px solid var(--gold-primary); padding: 40px; display: flex; justify-content: center;">
                        <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" style="width: 60%; opacity: 0.2;">
                    </div>
                </div>
                <div>
                    <h2 style="font-size: 3.5rem; color: var(--gold-primary); margin-bottom: 30px;">Our Heritage</h2>
                    <p style="color: var(--text-dim); line-height: 2; font-size: 1.1rem; margin-bottom: 20px;">Born from a passion for the ancestral art of scent, Luban Fragrance represents the pinnacle of olfactory craftsmanship. We believe that a fragrance is a silent biography.</p>
                    <p style="color: var(--text-dim); line-height: 2; font-size: 1.1rem;">By bypassing the excessive marketing of traditional luxury houses, we invest solely in what matters: the juice.</p>
                </div>
            </div>
        </section>

        <section id="contact">
            <div class="contact-grid">
                <div>
                    <h2 style="font-size: 3.5rem; color: var(--gold-primary); margin-bottom: 40px;">Get in Touch</h2>
                    <p style="color: var(--text-dim); margin-bottom: 50px; line-height: 1.8;">Have a question about our collections or need assistance choosing your signature scent? Our experts are here to help.</p>
                    
                    <div class="contact-item">
                        <div class="contact-icon"><i data-lucide="map-pin"></i></div>
                        <div>
                            <h4 style="color: var(--gold-primary); text-transform: uppercase; font-size: 0.7rem; letter-spacing: 2px;">Visit Us</h4>
                            <p style="font-size: 1.1rem;">Dhaka, Bangladesh</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon"><i data-lucide="mail"></i></div>
                        <div>
                            <h4 style="color: var(--gold-primary); text-transform: uppercase; font-size: 0.7rem; letter-spacing: 2px;">Email</h4>
                            <p style="font-size: 1.1rem;">contact@lubanfragrance.com</p>
                        </div>
                    </div>

                    <a href="https://www.facebook.com/people/Luban-Fragrance/61586484638332/" target="_blank" class="contact-item">
                        <div class="contact-icon"><i data-lucide="facebook"></i></div>
                        <div>
                            <h4 style="color: var(--gold-primary); text-transform: uppercase; font-size: 0.7rem; letter-spacing: 2px;">Social</h4>
                            <p style="font-size: 1.1rem;">@lubanfragrance</p>
                        </div>
                    </a>
                </div>
                
                <div style="background: var(--bg-accent); padding: 50px; border: 1px solid var(--border-gold);">
                    <h3 class="playfair" style="font-size: 1.8rem; margin-bottom: 30px;">Send a Message</h3>
                    <form onsubmit="event.preventDefault();" style="display: flex; flex-direction: column; gap: 20px;">
                        <input type="text" placeholder="Your Name" style="background: transparent; border: none; border-bottom: 1px solid var(--border-gold); padding: 15px 0; color: #fff; font-family: inherit; outline: none;">
                        <input type="email" placeholder="Your Email" style="background: transparent; border: none; border-bottom: 1px solid var(--border-gold); padding: 15px 0; color: #fff; font-family: inherit; outline: none;">
                        <textarea placeholder="Tell us what you're looking for..." rows="4" style="background: transparent; border: none; border-bottom: 1px solid var(--border-gold); padding: 15px 0; color: #fff; font-family: inherit; outline: none; resize: none;"></textarea>
                        <button type="submit" style="background: var(--gold-primary); border: none; padding: 20px; color: #000; text-transform: uppercase; letter-spacing: 3px; font-weight: 700; margin-top: 20px; cursor: pointer;">Send Inquiry</button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <div id="details-view" style="display: none; min-height: 100vh; padding: 160px 8%;">
        <div id="details-content" class="details-container"></div>
    </div>

    <div id="cart-overlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); backdrop-filter:blur(10px); z-index:2000; visibility:hidden; opacity:0; transition: 0.5s;" onclick="toggleCart(false)">
        <div class="cart-drawer" style="position:fixed; top:0; right:-500px; width:100%; max-width:500px; height:100%; background:#020a09; padding:60px; transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);" onclick="event.stopPropagation()">
            <h2 class="playfair" style="font-size: 2.5rem; margin-bottom: 40px;">Your Selection</h2>
            <div id="cart-items" style="max-height: 60vh; overflow-y: auto; margin-bottom: 40px;"></div>
            <div style="border-top: 1px solid var(--border-gold); padding-top: 30px;">
                <div style="display:flex; justify-content:space-between; margin-bottom: 40px;">
                    <span style="text-transform:uppercase; letter-spacing:2px; font-size:0.8rem;">Subtotal</span>
                    <span id="cart-total" style="font-size:1.5rem; color:var(--gold-primary);">$0.00</span>
                </div>
                <button onclick="checkout()" style="width:100%; background:var(--gold-primary); border:none; padding:20px; color:#000; text-transform:uppercase; letter-spacing:4px; font-weight:700; cursor:pointer;">Complete Selection</button>
            </div>
        </div>
    </div>

    <footer style="padding: 80px 8%; text-align: center; border-top: 1px solid var(--border-gold);">
        <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" style="width: 60px; margin-bottom: 2rem; opacity: 0.5;">
        <div style="display: flex; justify-content: center; gap: 2rem; margin-bottom: 2rem;">
            <a href="https://www.facebook.com/people/Luban-Fragrance/61586484638332/" target="_blank" class="social-link"><i data-lucide="facebook" size="24"></i></a>
            <a href="https://www.instagram.com/lubanfragrance" target="_blank" class="social-link"><i data-lucide="instagram" size="24"></i></a>
        </div>
        <p style="font-size: 0.7rem; letter-spacing: 5px; color: var(--gold-muted); text-transform: uppercase;">&copy; 2026 Luban Fragrance. Dhaka, Bangladesh</p>
    </footer>

    <script>
        lucide.createIcons();

        const products = [
            { id: 1, name: "Ehsas Al Arabia", price: 175.00, desc: "Oud, Rose, and Amber", vibe: "Exotic, luxurious, and deeply Middle Eastern.", img: "https://images.unsplash.com/photo-1547887538-e3a2f32cb1cc?auto=format&fit=crop&q=80&w=800" },
            { id: 2, name: "Vampire Blood", price: 155.00, desc: "Red Berries, Jasmine, and Plum", vibe: "Dark, sweet, and gothic.", img: "https://i.ibb.co/VpWmC5gv/Red-and-Black-Modern-Black-Friday-Luxury-Fragrance-Perfume-Sale-Instagram-Post.png" },
            { id: 3, name: "CK One Inspired", price: 95.00, desc: "Green Tea, Papaya, and Bergamot", vibe: "Clean, citrusy, and gender-neutral.", img: "https://images.unsplash.com/photo-1523293182086-7651a899d37f?auto=format&fit=crop&q=80&w=800" },
            { id: 4, name: "Scandal", price: 145.00, desc: "Honey, Gardenia, and Blood Orange", vibe: "Bold, honey-sweet, and provocative.", img: "https://images.unsplash.com/photo-1590736704728-f4730bb30770?auto=format&fit=crop&q=80&w=800" },
            { id: 5, name: "Vanilla Dream", price: 85.00, desc: "Warm Bean, Sugar, and Cream", vibe: "Comforting, sweet, and layering base.", img: "https://images.unsplash.com/photo-1616949755610-8c9bbc08f138?auto=format&fit=crop&q=80&w=800" },
            { id: 6, name: "Polo Blue Inspired", price: 115.00, desc: "Cucumber, Melon, and Suede", vibe: "Fresh, aquatic ocean breeze.", img: "https://images.unsplash.com/photo-1551446339-1e5c6f164ec2?auto=format&fit=crop&q=80&w=800" },
            { id: 7, name: "Baccarat Rouge 540", price: 210.00, desc: "Saffron, Jasmine, and Amberwood", vibe: "Airy, burnt-sugar sweetness.", img: "https://i.ibb.co/5zdJRRc/Baccarat-Rouge-540.png" },
            { id: 8, name: "Dior Sauvage Elixir", price: 195.00, desc: "Cinnamon, Cardamom, and Licorice", vibe: "Spicy, masculine powerhouse.", img: "https://i.ibb.co/nhvh8bN/Dior-Sauvage-Elixir-copy-1.png" },
            { id: 9, name: "JPG Le Male", price: 135.00, desc: "Mint, Lavender, and Vanilla", vibe: "Legendary soft-spicy balance.", img: "https://images.unsplash.com/photo-1603539322541-ad8278257db7?auto=format&fit=crop&q=80&w=800" },
            { id: 10, name: "Afnan 9pm", price: 120.00, desc: "Apple, Cinnamon, and Vanilla", vibe: "Sweet, loud, party fragrance.", img: "https://images.unsplash.com/photo-1615396899839-c99c121888b0?auto=format&fit=crop&q=80&w=800" },
            { id: 11, name: "Creed Aventus", price: 240.00, desc: "Pineapple, Birch, and Musk", vibe: "Smoky, fruity, sophisticated.", img: "https://i.ibb.co/dwwbGFFL/Creed-Aventus.png" },
            { id: 12, name: "Cool Water Man", price: 105.00, desc: "Sea Water, Mint, and Lavender", vibe: "Fresh, aquatic blue classic.", img: "https://images.unsplash.com/photo-1557827983-012eb6ea8dc1?auto=format&fit=crop&q=80&w=800" }
        ];

        let cart = [];

        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        const list = document.getElementById('product-list');
        products.forEach(p => {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.onclick = () => showView('details', p.id);
            card.innerHTML = `
                <div class="image-container">
                    <img src="${p.img}" alt="${p.name}">
                </div>
                <div style="display:flex; flex-direction: column; gap: 8px;">
                    <div style="display:flex; justify-content:space-between; align-items: flex-start;">
                        <h3 style="font-size:1.3rem; line-height: 1.2;">${p.name}</h3>
                        <div class="price-tag">$${p.price}</div>
                    </div>
                    <p style="font-size:0.65rem; color:var(--gold-muted); text-transform:uppercase; letter-spacing:2px;">${p.desc}</p>
                </div>
            `;
            list.appendChild(card);
        });

        function showView(view, id) {
            const main = document.getElementById('main-view');
            const detail = document.getElementById('details-view');
            if(view === 'details') {
                const p = products.find(x => x.id === id);
                renderDetails(p);
                main.style.display = 'none';
                detail.style.display = 'block';
                setTimeout(() => document.querySelector('.details-container').classList.add('visible'), 50);
            } else {
                main.style.display = 'block';
                detail.style.display = 'none';
                document.querySelector('.details-container').classList.remove('visible');
            }
            window.scrollTo(0,0);
        }

        function renderDetails(p) {
            const cont = document.getElementById('details-content');
            cont.innerHTML = `
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:80px; align-items:center;">
                    <div class="detail-img-wrapper">
                        <img src="${p.img}" alt="${p.name}">
                    </div>
                    <div>
                        <div onclick="showView('main')" style="cursor:pointer; color:var(--gold-primary); text-transform:uppercase; letter-spacing:3px; font-size:0.7rem; margin-bottom:40px; display:flex; align-items:center; gap:10px;">
                            <i data-lucide="arrow-left" size="14"></i> Back to collection
                        </div>
                        <h2 style="font-size:4rem; margin-bottom:20px;">${p.name}</h2>
                        <div style="font-size:1.5rem; color:var(--gold-primary); margin-bottom:30px;">$${p.price.toFixed(2)}</div>
                        <p style="font-style:italic; font-size:1.2rem; color:var(--text-dim); margin-bottom:40px;">"${p.vibe}"</p>
                        <p style="line-height:2; color:var(--text-dim); margin-bottom:50px;">A masterfully crafted essence featuring notes of ${p.desc}. Meticulously extracted to preserve the soul of every ingredient.</p>
                        <button onclick="addToCart(${p.id})" style="width:100%; background:var(--gold-primary); border:none; padding:20px; text-transform:uppercase; letter-spacing:5px; font-weight:700; cursor:pointer;">Add to Selection</button>
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        function toggleCart(open) {
            const over = document.getElementById('cart-overlay');
            const draw = over.querySelector('.cart-drawer');
            if(open) {
                over.style.visibility = 'visible';
                over.style.opacity = '1';
                draw.style.right = '0';
                renderCart();
            } else {
                over.style.opacity = '0';
                draw.style.right = '-500px';
                setTimeout(() => over.style.visibility = 'hidden', 500);
            }
        }

        function addToCart(id) {
            const p = products.find(x => x.id === id);
            const exists = cart.find(x => x.id === id);
            if(exists) exists.qty++;
            else cart.push({...p, qty:1});
            document.getElementById('cart-count').innerText = cart.reduce((a,b) => a+b.qty, 0);
        }

        function renderCart() {
            const cont = document.getElementById('cart-items');
            cont.innerHTML = cart.length ? '' : '<p style="text-align:center; opacity:0.3; margin-top:50px;">Selection is empty</p>';
            let total = 0;
            cart.forEach(item => {
                total += item.price * item.qty;
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = `
                    <div style="width:60px; height:70px; background:#000; display:flex; align-items:center; justify-content:center;">
                        <img src="${item.img}" style="max-width:100%; max-height:100%; object-fit:contain;">
                    </div>
                    <div style="flex:1;">
                        <h4 style="font-family:'Playfair Display'; font-size:1.1rem;">${item.name}</h4>
                        <p style="font-size:0.7rem; color:var(--gold-muted);">$${item.price} x ${item.qty}</p>
                    </div>
                    <i data-lucide="x" size="14" style="cursor:pointer; opacity:0.5;" onclick="removeFromCart(${item.id})"></i>
                `;
                cont.appendChild(div);
            });
            document.getElementById('cart-total').innerText = `$${total.toFixed(2)}`;
            lucide.createIcons();
        }

        function removeFromCart(id) {
            cart = cart.filter(x => x.id !== id);
            renderCart();
            document.getElementById('cart-count').innerText = cart.reduce((a,b) => a+b.qty, 0);
        }

        function checkout() {
            // Updated number in checkout as well
            window.open("https://wa.me/8801935322213?text=Hello%21%20I'd%20like%20to%20complete%20my%20order%20for%20Luban%20Fragrance.", "_blank");
        }

        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            const scroll = window.scrollY;
            const height = document.documentElement.scrollHeight - window.innerHeight;
            document.getElementById('scroll-progress').style.width = (scroll / height * 100) + '%';
            nav.classList.toggle('scrolled', scroll > 100);
            document.getElementById('back-to-top').classList.toggle('visible', scroll > 500);
            const bgText = document.querySelector('.hero-bg-text');
            if(bgText) bgText.style.transform = `translateX(${scroll * 0.5}px)`;
        });
    </script>
</body>
</html>
