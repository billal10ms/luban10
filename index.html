<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Luban Fragrance | The Essence of Elegance</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --bg-dark: #020a09;
            --bg-accent: #051614;
            --gold-primary: #d4af37;
            --gold-bright: #f4d03f;
            --gold-muted: rgba(212, 175, 55, 0.6);
            --text-white: #ffffff;
            --text-dim: rgba(255, 255, 255, 0.6);
            --border-gold: rgba(212, 175, 55, 0.15);
            --transition-smooth: all 0.7s cubic-bezier(0.19, 1, 0.22, 1);
            --card-gradient: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0) 100%);
            --nav-height: 100px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        /* Desktop Cursor Only */
        @media (min-width: 1025px) {
            * { cursor: none; }
            #custom-cursor {
                width: 20px;
                height: 20px;
                border: 1px solid var(--gold-primary);
                border-radius: 50%;
                position: fixed;
                pointer-events: none;
                z-index: 9999;
                transition: transform 0.1s, background 0.3s;
                mix-blend-mode: difference;
                display: block;
            }
        }

        @media (max-width: 1024px) {
            #custom-cursor { display: none; }
            * { cursor: auto !important; }
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-white);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            line-height: 1.6;
        }

        /* Typography */
        h1, h2, h3, .playfair { font-family: 'Playfair Display', serif; font-weight: 400; }
        
        /* Scroll Progress */
        #scroll-progress {
            position: fixed;
            top: 0; left: 0;
            height: 2px;
            background: var(--gold-primary);
            z-index: 2001;
            width: 0%;
        }

        /* Navbar FIXES */
        nav {
            position: fixed;
            top: 0; width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 8%;
            height: var(--nav-height);
            z-index: 1000;
            transition: var(--transition-smooth);
            background: transparent;
        }

        nav.scrolled {
            height: 75px; 
            background: rgba(2, 10, 9, 0.95);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--border-gold);
        }

        .nav-logo-container {
            display: flex;
            align-items: center;
            height: 100%;
            width: 150px; 
        }

        .nav-logo-img { 
            height: 45px; 
            width: auto;
            object-fit: contain;
            filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.1)); 
            transition: height 0.5s cubic-bezier(0.19, 1, 0.22, 1); 
        }

        nav.scrolled .nav-logo-img { 
            height: 35px; 
        }
        
        .nav-links { 
            display: flex; 
            gap: 2.5rem; 
            list-style: none;
            flex: 1;
            justify-content: center; 
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-dim);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: 0.3s;
        }
        .nav-links a:hover { color: var(--gold-primary); letter-spacing: 3px; }

        .nav-actions { 
            display: flex; 
            align-items: center; 
            gap: 1.5rem;
            width: 150px; 
            justify-content: flex-end;
        }

        .social-icons-nav {
            display: flex;
            gap: 1.2rem;
            align-items: center;
            border-left: 1px solid var(--border-gold);
            padding-left: 1.5rem;
        }
        
        .social-link { color: var(--gold-primary); transition: var(--transition-smooth); opacity: 0.7; }
        .social-link:hover { opacity: 1; transform: translateY(-2px); }

        .menu-toggle { display: none; color: var(--gold-primary); background: none; border: none; font-size: 1.5rem; }

        /* Hero Section */
        #hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
            text-align: center;
            padding: 0 5%;
        }

        .hero-bg-text {
            position: absolute;
            font-size: 25vw;
            font-family: 'Playfair Display';
            color: rgba(212, 175, 55, 0.03);
            white-space: nowrap;
            pointer-events: none;
            z-index: 0;
            user-select: none;
        }

        .hero-content { position: relative; z-index: 1; width: 100%; max-width: 800px; }
        
        #hero h1 {
            font-size: clamp(3rem, 12vw, 8rem);
            letter-spacing: 0.2em;
            margin-bottom: 0.5rem;
            background: linear-gradient(to bottom, #fff 40%, var(--gold-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0;
            transform: translateY(30px);
            animation: revealUp 1.5s forwards 0.5s;
        }

        @keyframes revealUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Buttons */
        .btn-gold {
            background: none; 
            border: 1px solid var(--gold-primary); 
            color: var(--gold-primary); 
            padding: 18px 45px; 
            text-transform: uppercase; 
            letter-spacing: 3px; 
            font-size: 0.75rem; 
            cursor: pointer; 
            transition: 0.4s;
            position: relative;
            overflow: hidden;
        }
        .btn-gold:hover { background: var(--gold-primary); color: #000; box-shadow: 0 0 30px rgba(212, 175, 55, 0.3); }

        /* Size Selection */
        .size-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        .size-btn {
            flex: 1;
            padding: 12px;
            border: 1px solid var(--border-gold);
            background: transparent;
            color: var(--text-dim);
            cursor: pointer;
            transition: 0.3s;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }
        .size-btn.active {
            border-color: var(--gold-primary);
            color: var(--gold-primary);
            background: rgba(212, 175, 55, 0.05);
        }

        /* Product Grid */
        #shop { padding: 100px 8%; background: var(--bg-accent); }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            position: relative;
            padding: 25px;
            background: var(--card-gradient);
            border: 1px solid var(--border-gold);
            transition: var(--transition-smooth);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            cursor: pointer;
        }

        .product-card:hover { transform: translateY(-10px); border-color: var(--gold-primary); }

        .image-container {
            width: 100%;
            aspect-ratio: 1/1;
            overflow: hidden;
            margin-bottom: 20px;
            position: relative;
            background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, rgba(0,0,0,0.2) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-container img {
            max-width: 85%; 
            max-height: 85%;
            object-fit: contain;
            transition: transform 1.5s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .product-card:hover .image-container img { transform: scale(1.08); }

        /* Contact Section */
        #contact { padding: 100px 8%; background: var(--bg-dark); }
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: start;
        }

        /* Responsive Fixes */
        @media (max-width: 1024px) {
            .nav-links { display: none; }
            .nav-actions { width: auto; }
            .nav-logo-container { width: auto; }
            .menu-toggle { display: block; }
            .contact-grid { grid-template-columns: 1fr; }
            #about .about-content { grid-template-columns: 1fr !important; }
            .hero-bg-text { display: none; }
        }

        @media (max-width: 600px) {
            :root { --nav-height: 80px; }
            nav { padding: 0 5%; }
            #shop, #about, #contact { padding-left: 5%; padding-right: 5%; }
            #hero h1 { letter-spacing: 0.1em; }
            .product-grid { grid-template-columns: 1fr; }
            .contact-grid > div:last-child { padding: 30px !important; }
        }

        /* Mobile Menu Overlay */
        #mobile-menu {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100vh;
            background: var(--bg-dark);
            z-index: 1001;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            transform: translateY(-100%);
            transition: 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        }
        #mobile-menu.active { transform: translateY(0); }
        .mobile-link {
            font-family: 'Playfair Display';
            font-size: 2rem;
            color: var(--gold-primary);
            text-decoration: none;
            letter-spacing: 5px;
        }

        /* Floating Controls */
        #back-to-top, #whatsapp-float {
            position: fixed;
            right: 20px;
            width: 50px;
            height: 50px;
            border: 1px solid var(--gold-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gold-primary);
            z-index: 100;
            background: rgba(2, 10, 9, 0.9);
            backdrop-filter: blur(5px);
            transition: 0.3s;
        }
        #back-to-top { bottom: 20px; opacity: 0; pointer-events: none; }
        #back-to-top.visible { opacity: 1; pointer-events: all; }
        #whatsapp-float { bottom: 85px; border-color: #25D366; color: #25D366; text-decoration: none; }
        
        /* Details View Custom */
        .details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }
        @media (max-width: 900px) {
            .details-grid { grid-template-columns: 1fr; gap: 40px; }
            #details-view { padding-top: 100px !important; }
        }
    </style>
</head>
<body>

    <div id="custom-cursor"></div>
    <div id="scroll-progress"></div>
    
    <!-- Mobile Navigation -->
    <div id="mobile-menu">
        <button onclick="toggleMobileMenu()" style="position:absolute; top:30px; right:30px; background:none; border:none; color:var(--gold-primary);"><i data-lucide="x" size="32"></i></button>
        <a href="javascript:void(0)" class="mobile-link" onclick="handleNavClick('hero'); toggleMobileMenu();">The Scent</a>
        <a href="javascript:void(0)" class="mobile-link" onclick="handleNavClick('shop'); toggleMobileMenu();">Collection</a>
        <a href="javascript:void(0)" class="mobile-link" onclick="handleNavClick('about'); toggleMobileMenu();">Heritage</a>
        <a href="javascript:void(0)" class="mobile-link" onclick="handleNavClick('contact'); toggleMobileMenu();">Contact</a>
        <div style="display:flex; gap: 20px; margin-top: 20px;">
            <a href="https://www.facebook.com/people/Luban-Fragrance/61586484638332/" target="_blank" style="color:var(--gold-primary)"><i data-lucide="facebook"></i></a>
            <a href="https://www.instagram.com/lubanfragrance" target="_blank" style="color:var(--gold-primary)"><i data-lucide="instagram"></i></a>
        </div>
    </div>

    <div id="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"><i data-lucide="chevron-up"></i></div>
    <a id="whatsapp-float" href="https://wa.me/8801935322213?text=Hello%2C%20I'm%20interested%20in%20Luban%20Fragrance!" target="_blank">
        <i data-lucide="phone"></i>
    </a>

    <nav id="navbar">
        <div onclick="showView('main')" class="nav-logo-container" style="cursor:pointer">
            <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" alt="Luban Logo" class="nav-logo-img">
        </div>
        
        <ul class="nav-links">
            <li><a href="javascript:void(0)" onclick="handleNavClick('hero')">The Scent</a></li>
            <li><a href="javascript:void(0)" onclick="handleNavClick('shop')">Collection</a></li>
            <li><a href="javascript:void(0)" onclick="handleNavClick('about')">Heritage</a></li>
            <li><a href="javascript:void(0)" onclick="handleNavClick('contact')">Contact</a></li>
        </ul>

        <div class="nav-actions">
            <div class="social-icons-nav">
                <a href="https://www.facebook.com/people/Luban-Fragrance/61586484638332/" target="_blank" class="social-link"><i data-lucide="facebook" size="18"></i></a>
                <a href="https://www.instagram.com/lubanfragrance" target="_blank" class="social-link"><i data-lucide="instagram" size="18"></i></a>
            </div>
            <div class="cart-trigger" onclick="toggleCart(true)" style="cursor:pointer; position:relative; margin-left: 10px;">
                <i data-lucide="shopping-cart" stroke="#d4af37" size="22"></i>
                <span id="cart-count" style="position:absolute; top:-8px; right:-10px; background:var(--gold-primary); color:#000; font-size:10px; padding:2px 6px; border-radius:10px; font-weight:800;">0</span>
            </div>
            <button class="menu-toggle" onclick="toggleMobileMenu()"><i data-lucide="menu"></i></button>
        </div>
    </nav>

    <div id="main-view">
        <section id="hero">
            <div class="hero-bg-text">LUBAN</div>
            <div class="hero-content">
                <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" alt="Luban" style="width: clamp(80px, 15vw, 120px); margin-bottom: 2rem; opacity: 0.8;">
                <h1>LUBAN</h1>
                <p style="letter-spacing: clamp(4px, 1vw, 10px); color: var(--gold-muted); text-transform: uppercase; font-size: clamp(0.6rem, 2vw, 0.8rem); margin-bottom: 3rem;">Refined Quality In Every Drop</p>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button class="btn-gold" onclick="document.getElementById('shop').scrollIntoView({behavior: 'smooth'})">Explore Collection</button>
                </div>
            </div>
        </section>

        <section id="shop">
            <div style="text-align: center; margin-bottom: 60px;">
                <h2 style="font-size: clamp(2rem, 5vw, 3rem); margin-bottom: 15px; letter-spacing: 5px;">The Library</h2>
                <div style="width: 40px; height: 1px; background: var(--gold-primary); margin: 0 auto;"></div>
            </div>
            <div class="product-grid" id="product-list"></div>
        </section>

        <section id="about" style="padding: 100px 8%; border-top: 1px solid var(--border-gold);">
            <div class="about-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center;">
                <div style="position: relative;">
                    <div style="border: 1px solid var(--border-gold); padding: 60px; display: flex; justify-content: center; background: var(--bg-accent);">
                        <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" style="width: 60%; opacity: 0.15;">
                    </div>
                </div>
                <div>
                    <h2 style="font-size: clamp(2.5rem, 6vw, 3.5rem); color: var(--gold-primary); margin-bottom: 30px;">Our Heritage</h2>
                    <p style="color: var(--text-dim); line-height: 1.8; font-size: 1.1rem; margin-bottom: 20px;">Born from a passion for the ancestral art of scent, Luban Fragrance represents the pinnacle of olfactory craftsmanship. We believe that a fragrance is a silent biography.</p>
                    <p style="color: var(--text-dim); line-height: 1.8; font-size: 1.1rem;">By bypassing the excessive marketing of traditional luxury houses, we invest solely in what matters: the pure essence of the juice.</p>
                </div>
            </div>
        </section>

        <section id="contact">
            <div class="contact-grid">
                <div>
                    <h2 style="font-size: clamp(2.5rem, 6vw, 3.5rem); color: var(--gold-primary); margin-bottom: 30px;">Get in Touch</h2>
                    <p style="color: var(--text-dim); margin-bottom: 40px; line-height: 1.8;">Have a question about our collections or need assistance choosing your signature scent? Our experts are here to help.</p>
                    
                    <div style="display:flex; flex-direction:column; gap:30px;">
                        <div style="display:flex; align-items:center; gap:20px;">
                            <div style="width:50px; height:50px; border:1px solid var(--border-gold); display:flex; align-items:center; justify-content:center; color:var(--gold-primary);"><i data-lucide="map-pin"></i></div>
                            <div><p style="text-transform:uppercase; font-size:0.7rem; color:var(--gold-muted); letter-spacing:2px;">Location</p><p>Dhaka, Bangladesh</p></div>
                        </div>
                        <div style="display:flex; align-items:center; gap:20px;">
                            <div style="width:50px; height:50px; border:1px solid var(--border-gold); display:flex; align-items:center; justify-content:center; color:var(--gold-primary);"><i data-lucide="mail"></i></div>
                            <div><p style="text-transform:uppercase; font-size:0.7rem; color:var(--gold-muted); letter-spacing:2px;">Email</p><p>contact@lubanfragrance.com</p></div>
                        </div>
                    </div>
                </div>
                
                <div style="background: var(--bg-accent); padding: 50px; border: 1px solid var(--border-gold);">
                    <h3 class="playfair" style="font-size: 1.8rem; margin-bottom: 30px;">Send a Message</h3>
                    <form onsubmit="event.preventDefault();" style="display: flex; flex-direction: column; gap: 20px;">
                        <input type="text" placeholder="Your Name" style="background: transparent; border: none; border-bottom: 1px solid var(--border-gold); padding: 15px 0; color: #fff; outline: none;">
                        <input type="email" placeholder="Your Email" style="background: transparent; border: none; border-bottom: 1px solid var(--border-gold); padding: 15px 0; color: #fff; outline: none;">
                        <textarea placeholder="Your Message..." rows="3" style="background: transparent; border: none; border-bottom: 1px solid var(--border-gold); padding: 15px 0; color: #fff; outline: none; resize: none;"></textarea>
                        <button type="submit" class="btn-gold" style="width:100%; margin-top:20px;">Send Inquiry</button>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <div id="details-view" style="display: none; min-height: 100vh; padding: 140px 8% 80px;">
        <div id="details-content"></div>
    </div>

    <div id="cart-overlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); backdrop-filter:blur(10px); z-index:2000; visibility:hidden; opacity:0; transition: 0.5s;" onclick="toggleCart(false)">
        <div class="cart-drawer" style="position:fixed; top:0; right:-100%; width:100%; max-width:450px; height:100%; background:#020a09; padding:40px; transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);" onclick="event.stopPropagation()">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:40px;">
                <h2 class="playfair" style="font-size: 2rem;">Selection</h2>
                <button onclick="toggleCart(false)" style="background:none; border:none; color:#fff;"><i data-lucide="x"></i></button>
            </div>
            <div id="cart-items" style="max-height: 55vh; overflow-y: auto; margin-bottom: 40px;"></div>
            <div style="border-top: 1px solid var(--border-gold); padding-top: 30px;">
                <div style="display:flex; justify-content:space-between; margin-bottom: 30px;">
                    <span style="text-transform:uppercase; letter-spacing:2px; font-size:0.8rem;">Subtotal</span>
                    <span id="cart-total" style="font-size:1.5rem; color:var(--gold-primary);">$0.00</span>
                </div>
                <button onclick="checkout()" class="btn-gold" style="width:100%; padding:20px;">Complete Selection</button>
            </div>
        </div>
    </div>

    <footer style="padding: 60px 8%; text-align: center; border-top: 1px solid var(--border-gold);">
        <img src="https://i.ibb.co.com/Vcq9NZsL/Logo.png" style="width: 50px; margin-bottom: 2rem; opacity: 0.5;">
        <p style="font-size: 0.7rem; letter-spacing: 4px; color: var(--gold-muted); text-transform: uppercase;">&copy; 2026 Luban Fragrance. Dhaka, Bangladesh</p>
    </footer>

    <script>
        lucide.createIcons();

        // Updated products list including all newly requested scents
        const products = [
            { "id": 1, "name": "Ehsas Al Arabia", "price3ml": 175.00, "price6ml": 310.00, "desc": "Oud, Rose, and Amber", "vibe": "Exotic, luxurious, and deeply Middle Eastern.", "img": "https://i.ibb.co.com/qYg6CR3M/ehsas-al-arabia.png" },
            { id: 2, name: "Vampire Blood", price3ml: 155.00, price6ml: 275.00, desc: "Red Berries, Jasmine, and Plum", vibe: "Dark, sweet, and gothic.", img: "https://i.ibb.co/VpWmC5gv/Red-and-Black-Modern-Black-Friday-Luxury-Fragrance-Perfume-Sale-Instagram-Post.png" },
            { id: 3, name: "CK One Inspired", price3ml: 95.00, price6ml: 165.00, desc: "Green Tea, Papaya, and Bergamot", vibe: "Clean, citrusy, and gender-neutral.", img: "https://images.unsplash.com/photo-1523293182086-7651a899d37f?auto=format&fit=crop&q=80&w=800" },
            { id: 4, name: "Scandal", price3ml: 145.00, price6ml: 255.00, desc: "Honey, Gardenia, and Blood Orange", vibe: "Bold, honey-sweet, and provocative.", img: "https://images.unsplash.com/photo-1590736704728-f4730bb30770?auto=format&fit=crop&q=80&w=800" },
            { id: 5, name: "Vanilla Dream", price3ml: 85.00, price6ml: 145.00, desc: "Warm Bean, Sugar, and Cream", vibe: "Comforting, sweet, and layering base.", img: "https://images.unsplash.com/photo-1616949755610-8c9bbc08f138?auto=format&fit=crop&q=80&w=800" },
            { id: 6, name: "Polo Blue Inspired", price3ml: 115.00, price6ml: 200.00, desc: "Cucumber, Melon, and Suede", vibe: "Fresh, aquatic ocean breeze.", img: "https://images.unsplash.com/photo-1551446339-1e5c6f164ec2?auto=format&fit=crop&q=80&w=800" },
            { id: 7, name: "Baccarat Rouge 540", price3ml: 210.00, price6ml: 375.00, desc: "Saffron, Jasmine, and Amberwood", vibe: "Airy, burnt-sugar sweetness.", img: "https://i.ibb.co/5zdJRRc/Baccarat-Rouge-540.png" },
            { id: 8, name: "Dior Sauvage Elixir", price3ml: 195.00, price6ml: 345.00, desc: "Cinnamon, Cardamom, and Licorice", vibe: "Spicy, masculine powerhouse.", img: "https://i.ibb.co/nhvh8bN/Dior-Sauvage-Elixir-copy-1.png" },
            { id: 9, name: "JPG Le Male", price3ml: 135.00, price6ml: 240.00, desc: "Mint, Lavender, and Vanilla", vibe: "Legendary soft-spicy balance.", img: "https://images.unsplash.com/photo-1603539322541-ad8278257db7?auto=format&fit=crop&q=80&w=800" },
            { id: 10, name: "Afnan 9pm", price3ml: 120.00, price6ml: 210.00, desc: "Apple, Cinnamon, and Vanilla", vibe: "Sweet, loud, party fragrance.", img: "https://images.unsplash.com/photo-1615396899839-c99c121888b0?auto=format&fit=crop&q=80&w=800" },
            { id: 11, name: "Creed Aventus", price3ml: 240.00, price6ml: 425.00, desc: "Pineapple, Birch, and Musk", vibe: "Smoky, fruity, sophisticated.", img: "https://i.ibb.co/dwwbGFFL/Creed-Aventus.png" },
            { "id": 12, "name": "Cool Water Man", "price3ml": 105.00, "price6ml": 185.00, "desc": "Sea Water, Mint, and Lavender", "vibe": "Fresh, aquatic blue classic.", "img": "https://i.ibb.co.com/6RrtfJzJ/Blue-and-White-Modern-Premium-Fragrance-Instagram-Story.jpg" },
            // NEW PRODUCTS START
            { id: 13, name: "YSL Y (EDP)", price3ml: 185.00, price6ml: 330.00, desc: "Green Apple, Ginger, and Sage", vibe: "Sharp, blue, and highly versatile with great longevity.", img: "https://i.ibb.co.com/xqtqgS4N/YSL-Y.png" },
            { "id": 14, "name": "Versace Eros", "price3ml": 140.00, "price6ml": 250.00, "desc": "Mint, Candy Apple, and Vanilla", "vibe": "Loud, sweet, and perfect for a vibrant night out.", "img": "https://i.ibb.co.com/nNz257xc/empty.png" },
            { id: 15, name: "Tobacco Vanille", price3ml: 225.00, price6ml: 400.00, desc: "Tobacco Leaf, Spices, and Creamy Vanilla", vibe: "Rich, opulent, and smells like a private luxury lounge.", img: "https://i.ibb.co.com/S4QFM16c/Tobacco-Vanilla.png" },
            { id: 16, name: "Hawas Ice", price3ml: 130.00, price6ml: 230.00, desc: "Frozen Apple, Bergamot, and Mint", vibe: "Louder, fresher, and colder than the original DNA.", img: "https://i.ibb.co.com/DgSB4fJ8/hawas-Ice.png" },
            { id: 17, name: "Hawas Fire", price3ml: 135.00, price6ml: 240.00, desc: "Spices, Leather, and Intense Woods", vibe: "A warm, intense version ideal for cooler weather.", img: "https://i.ibb.co.com/HDYqMHsd/Gemini-Generated-Image-7f1xcp7f1xcp7f1x.png" },
            { id: 18, name: "Stronger With You", price3ml: 160.00, price6ml: 285.00, desc: "Chestnut, Cardamom, and Vanilla", vibe: "Warm, sweet, and cozy—the ultimate date night scent.", img: "https://i.ibb.co.com/SDmwnHSH/Stronger-with-You.png" },
            { id: 19, name: "Acqua Di Gio", price3ml: 110.00, price6ml: 195.00, desc: "Sea Notes, Lime, and Jasmine", vibe: "The gold standard for aquatics—clean, light, and airy.", img: "https://i.ibb.co.com/nNz257xc/empty.png" },
            { id: 20, name: "Paris Hilton (Men)", price3ml: 90.00, price6ml: 155.00, desc: "Cucumber and Mango Profile", vibe: "A fruity, fresh profile that is casual and easy-going.", img: "https://images.unsplash.com/photo-1541605027-0b81e3f22330?auto=format&fit=crop&q=80&w=800" },
            { id: 21, name: "Sultan (Al-Rehab)", price3ml: 80.00, price6ml: 140.00, desc: "Cedar, Juniper, and Musk", vibe: "Concentrated woodiness—very masculine and robust.", img: "https://i.ibb.co.com/1fFTxNF9/sultan.png" }
        ];

        let cart = [];
        let selectedSize = '3ml';

        // UI Interactions
        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('active');
        }

        function handleNavClick(id) {
            showView('main');
            setTimeout(() => {
                const el = document.getElementById(id);
                if(el) el.scrollIntoView({behavior:'smooth'});
            }, 100);
        }

        // Initialize Shop Grid
        function renderShop() {
            const list = document.getElementById('product-list');
            list.innerHTML = ''; // Clear previous
            products.forEach(p => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.onclick = () => showView('details', p.id);
                card.innerHTML = `
                    <div class="image-container">
                        <img src="${p.img}" alt="${p.name}" loading="lazy" onerror="this.src='https://images.unsplash.com/photo-1557170334-a9632e77c6e4?auto=format&fit=crop&q=80&w=800'">
                    </div>
                    <div style="display:flex; justify-content:space-between; align-items:baseline; margin-bottom:5px;">
                        <h3 style="font-size:1.1rem;">${p.name}</h3>
                        <span style="color:var(--gold-primary); font-weight:500; font-size:0.85rem;">$${p.price3ml} - $${p.price6ml}</span>
                    </div>
                    <p style="font-size:0.6rem; color:var(--gold-muted); text-transform:uppercase; letter-spacing:1.5px;">${p.desc}</p>
                `;
                list.appendChild(card);
            });
        }

        function showView(view, id) {
            const main = document.getElementById('main-view');
            const detailView = document.getElementById('details-view');
            if(view === 'details') {
                const p = products.find(x => x.id === id);
                selectedSize = '3ml'; 
                renderDetails(p);
                main.style.display = 'none';
                detailView.style.display = 'block';
            } else {
                main.style.display = 'block';
                detailView.style.display = 'none';
            }
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function setSize(size, productId) {
            selectedSize = size;
            const p = products.find(x => x.id === productId);
            
            document.querySelectorAll('.size-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            const priceEl = document.getElementById('detail-price');
            priceEl.innerText = `$${(size === '3ml' ? p.price3ml : p.price6ml).toFixed(2)}`;
        }

        function renderDetails(p) {
            document.getElementById('details-content').innerHTML = `
                <div class="details-grid">
                    <div style="background:var(--bg-accent); border:1px solid var(--border-gold); aspect-ratio:1/1; display:flex; align-items:center; justify-content:center; padding:40px;">
                        <img src="${p.img}" style="max-width:100%; max-height:100%; object-fit:contain;" onerror="this.src='https://images.unsplash.com/photo-1557170334-a9632e77c6e4?auto=format&fit=crop&q=80&w=800'">
                    </div>
                    <div>
                        <span onclick="showView('main')" style="cursor:pointer; color:var(--gold-primary); font-size:0.7rem; text-transform:uppercase; letter-spacing:3px; display:inline-flex; align-items:center; gap:8px; margin-bottom:30px;">
                            <i data-lucide="arrow-left" size="14"></i> Return to Collection
                        </span>
                        <h2 style="font-size:clamp(2.2rem, 5vw, 4rem); margin-bottom:10px;">${p.name}</h2>
                        <div id="detail-price" style="font-size:1.8rem; color:var(--gold-primary); margin-bottom:20px;">$${p.price3ml.toFixed(2)}</div>
                        
                        <p style="text-transform:uppercase; font-size:0.7rem; color:var(--gold-muted); letter-spacing:2px; margin-bottom:10px;">Select Volume</p>
                        <div class="size-selector">
                            <button class="size-btn active" onclick="setSize('3ml', ${p.id})">3 mL</button>
                            <button class="size-btn" onclick="setSize('6ml', ${p.id})">6 mL</button>
                        </div>

                        <p style="font-style:italic; color:var(--text-dim); margin-bottom:30px; border-left:2px solid var(--gold-primary); padding-left:20px;">"${p.vibe}"</p>
                        <p style="color:var(--text-dim); margin-bottom:40px;">Detailed formulation with notes of ${p.desc}. Hand-selected essences from the finest sources around the globe.</p>
                        <button class="btn-gold" style="width:100%" onclick="addToCart(${p.id})">Add to Selection</button>
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        function toggleCart(open) {
            const overlay = document.getElementById('cart-overlay');
            const drawer = overlay.querySelector('.cart-drawer');
            if(open) {
                overlay.style.visibility = 'visible';
                overlay.style.opacity = '1';
                drawer.style.right = '0';
                renderCart();
            } else {
                overlay.style.opacity = '0';
                drawer.style.right = '-100%';
                setTimeout(() => overlay.style.visibility = 'hidden', 500);
            }
        }

        function addToCart(id) {
            const p = products.find(x => x.id === id);
            const currentPrice = selectedSize === '3ml' ? p.price3ml : p.price6ml;
            const cartId = `${id}-${selectedSize}`;
            const exists = cart.find(x => x.cartId === cartId);
            
            if(exists) {
                exists.qty++;
            } else {
                cart.push({
                    ...p, 
                    cartId: cartId, 
                    selectedSize: selectedSize, 
                    activePrice: currentPrice, 
                    qty: 1
                });
            }
            
            updateCartCount();
            toggleCart(true);
        }

        function renderCart() {
            const cont = document.getElementById('cart-items');
            cont.innerHTML = cart.length ? '' : '<p style="text-align:center; opacity:0.3; margin-top:50px;">Your selection is empty</p>';
            let subtotal = 0;
            cart.forEach(item => {
                subtotal += item.activePrice * item.qty;
                const div = document.createElement('div');
                div.style = 'display:flex; align-items:center; gap:20px; margin-bottom:20px; padding-bottom:20px; border-bottom:1px solid var(--border-gold)';
                div.innerHTML = `
                    <div style="width:50px; height:50px; background:#000; display:flex; align-items:center; justify-content:center; flex-shrink:0">
                        <img src="${item.img}" style="max-width:80%; max-height:80%; object-fit:contain" onerror="this.src='https://images.unsplash.com/photo-1557170334-a9632e77c6e4?auto=format&fit=crop&q=80&w=800'">
                    </div>
                    <div style="flex:1">
                        <h4 class="playfair" style="font-size:1rem">${item.name} (${item.selectedSize})</h4>
                        <p style="font-size:0.75rem; color:var(--gold-muted)">$${item.activePrice} x ${item.qty}</p>
                    </div>
                    <i data-lucide="x" size="16" style="cursor:pointer; opacity:0.5" onclick="removeFromCart('${item.cartId}')"></i>
                `;
                cont.appendChild(div);
            });
            document.getElementById('cart-total').innerText = `$${subtotal.toFixed(2)}`;
            lucide.createIcons();
        }

        function removeFromCart(cartId) {
            cart = cart.filter(x => x.cartId !== cartId);
            renderCart();
            updateCartCount();
        }

        function updateCartCount() {
            document.getElementById('cart-count').innerText = cart.reduce((a,b) => a+b.qty, 0);
        }

        function checkout() {
            window.open("https://www.facebook.com/people/Luban-Fragrance/61586484638332/", "_blank");
        }

        // Global Effects
        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
            
            document.getElementById('scroll-progress').style.width = (scrollY / totalHeight * 100) + '%';
            document.getElementById('navbar').classList.toggle('scrolled', scrollY > 50);
            document.getElementById('back-to-top').classList.toggle('visible', scrollY > 500);
            
            const bgText = document.querySelector('.hero-bg-text');
            if(bgText && document.getElementById('main-view').style.display !== 'none') {
                bgText.style.transform = `translateX(${scrollY * 0.2}px)`;
            }
        });

        document.addEventListener('mousemove', (e) => {
            const cursor = document.getElementById('custom-cursor');
            if(cursor) {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            }
        });

        // Load content
        window.onload = renderShop;
    </script>
</body>
</html>
